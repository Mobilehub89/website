<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<title>Online Shopping</title>
<style>
  /* Reset and base */
  * {
    box-sizing: border-box;
  }
  body {
    margin: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #f5f7fa;
    color: #333;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px; /* Increased padding for desktop */
  }
  header {
    width: 100%;
    max-width: 800px; /* Increased max-width for desktop */
    text-align: center;
    margin-bottom: 20px; /* Increased margin for spacing */
  }
  header h1 {
    font-size: 2.5rem; /* Increased font size for header */
    color: #0d6efd;
    margin: 0;
    font-weight: 700;
  }
  /* Admin Panel */
  .admin-panel {
    background: white;
    padding: 20px; /* Increased padding for desktop */
    border-radius: 12px;
    box-shadow: 0 3px 8px rgb(0 0 0 / 0.1);
    width: 100%;
    max-width: 800px; /* Increased max-width for desktop */
    margin-bottom: 20px; /* Increased margin for spacing */
  }
  .admin-panel h2 {
    margin-top: 0;
    font-weight: 600;
    color: #0d6efd;
    margin-bottom: 15px;
    font-size: 1.5rem; /* Increased font size for admin panel */
    user-select: none;
  }
  .form-group {
    margin-bottom: 15px; /* Increased margin for spacing */
  }
  .form-group label {
    display: block;
    font-size: 1rem; /* Increased font size for labels */
    font-weight: 600;
    margin-bottom: 5px;
  }
  .form-group input,
  .form-group textarea {
    width: 100%;
    padding: 10px; /* Increased padding for inputs */
    border: 1.5px solid #ccc;
    border-radius: 8px;
    font-size: 1rem; /* Increased font size for inputs */
    transition: border-color 0.3s ease;
  }
  .form-group input:focus,
  .form-group textarea:focus {
    outline: none;
    border-color: #0d6efd;
  }
  .form-group textarea {
    resize: vertical;
    min-height: 80px; /* Increased minimum height for textarea */
  }
  .btn-add,
  .btn-clear {
    display: inline-block;
    background-color: #0d6efd;
    color: white;
    font-weight: 600;
    padding: 12px 20px; /* Increased padding for buttons */
    border: none;
    border-radius: 10px;
    cursor: pointer;
    width: 100%;
    font-size: 1.1rem; /* Increased font size for buttons */
    transition: background-color 0.3s ease;
    user-select: none;
    margin-top: 10px; /* Increased margin for spacing */
  }
  .btn-add:hover,
  .btn-clear:hover {
    background-color: #084aec;
  }
  /* Product list style */
  .products-container {
    width: 100%;
    max-width: 800px; /* Increased max-width for desktop */
    display: grid;
    grid-template-columns: repeat(3, 1fr); /* Adjusted for 3 columns on desktop */
    gap: 20px; /* Increased gap between products */
  }
  @media (max-width: 800px) {
    .products-container {
      grid-template-columns: repeat(2, 1fr); /* 2 columns for smaller screens */
    }
  }
  @media (max-width: 500px) {
    .products-container {
      grid-template-columns: 1fr; /* 1 column for mobile */
    }
  }
  .product-card {
    background: white;
    border-radius: 12px box-shadow 0 2px 12px rgb(0 0 0 / 0.1);
    overflow: hidden;
    display: flex;
    flex-direction: column;
    user-select: none;
    position: relative;
  }
  .product-image {
    width: 100%;
    height: 220px; /* Increased height for product images */
    object-fit: cover;
    background: #ddd;
  }
  .product-info {
    padding: 15px; /* Increased padding for product info */
    flex-grow: 1;
    display: flex;
    flex-direction: column;
  }
  .product-name {
    font-size: 1.3rem; /* Increased font size for product name */
    font-weight: 700;
    margin: 0 0 8px 0;
    color: #0d6efd;
  }
  .product-price {
    font-size: 1.1rem; /* Increased font size for product price */
    font-weight: 600;
    color: #198754;
    margin-bottom: 8px;
  }
  .product-description {
    font-size: 1rem; /* Increased font size for product description */
    color: #555;
    flex-grow: 1;
  }
  .btn-remove {
    position: absolute;
    top: 15px; /* Adjusted position for remove button */
    right: 15px; /* Adjusted position for remove button */
    background: #dc3545;
    border: none;
    color: white;
    font-weight: 700;
    padding: 6px 12px; /* Increased padding for remove button */
    font-size: 0.9rem; /* Increased font size for remove button */
    border-radius: 8px;
    cursor: pointer;
    user-select: none;
    transition: background-color 0.3s ease;
  }
  .back-button {
            position: absolute;
            top: 20px; /* Distance from the top */
            left: 20px; /* Distance from the left */
            background-color: #0d6efd;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s ease;
        }
        .back-button:hover {
            background-color: #084aec;
        }
  /* Mobile optimization height fit */
  @media (max-height: 600px) {
    body {
      padding: 10px; /* Adjusted padding for mobile */
      overflow-y: auto;
    }
    .admin-panel,
    .products-container {
      max-height: none;
    }
    .product-card {
      height: auto;
    }
  }
</style>
</head>
<body>
</header>
<button class="back-button" onclick="window.location.href='admin.html';">Back</button>
<section class="admin-panel" aria-label="Admin Product Entry Panel">
  <h2>Add a New Product</h2>
  <form id="productForm" aria-label="Add product form">
    <div class="form-group">
      <label for="productName">Product Name *</label>
      <input type="text" id="productName" name="productName" placeholder="Enter product name" required />
    </div>
    <div class="form-group">
      <label for="productPrice">Price *</label>
      <input
        type="number"
        id="productPrice"
        name="productPrice"
        min="0"
        step="0.01"
        placeholder="0.00"
        required
      />
    </div>
    <div class="form-group">
      <label for="productDescription">Description</label>
      <textarea
        id="productDescription"
        name="productDescription"
        placeholder="Any details about the product"
      ></textarea>
    </div>
    <div class="form-group">
      <label for="productImageUrl">Image URL</label>
      <input
        type="url"
        id="productImageUrl"
        name="productImageUrl"
        placeholder="https://example.com/image.jpg"
      />
    </div>
    <button type="submit" class="btn-add">Add Product</button>
  </form>
  <button id="clearAllBtn" class="btn-clear" aria-label="Clear all products">Clear All Products</button>
</section>

<section class="products-container" aria-label="Products List" id="productsList">
  <!-- Product cards will be dynamically added here -->
</section>

<script>
  const productsKey = 'onlineShoppingProducts';
  let products = [];

  function saveProductsToStorage() {
    localStorage.setItem(productsKey, JSON.stringify(products));
  }

  function loadProductsFromStorage() {
    const storedProducts = localStorage.getItem(productsKey);
    if (storedProducts) {
      try {
        products = JSON.parse(storedProducts);
      } catch (e) {
        products = [];
      }
    }
  }

  function createProductCard(product, index) {
    const card = document.createElement('article');
    card.className = 'product-card';

    const img = document.createElement('img');
    img.className = 'product-image';
    img .alt = product.name || 'Product Image';
    img.src = product.imageUrl
      ? product.imageUrl
      : 'https://images.pexels.com/photos/4046303/pexels-photo-4046303.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=220';
    card.appendChild(img);

    const removeBtn = document.createElement('button');
    removeBtn.className = 'btn-remove';
    removeBtn.textContent = 'Remove';
    removeBtn.title = 'Remove product';
    removeBtn.addEventListener('click', () => {
      removeProduct(index);
    });
    card.appendChild(removeBtn);

    const info = document.createElement('div');
    info.className = 'product-info';

    const nameEl = document.createElement('h3');
    nameEl.className = 'product-name';
    nameEl.textContent = product.name;
    info.appendChild(nameEl);

    const priceEl = document.createElement('div');
    priceEl.className = 'product-price';
    priceEl.textContent = '$' + parseFloat(product.price).toFixed(2);
    info.appendChild(priceEl);

    if (product.description && product.description.trim() !== '') {
      const descEl = document.createElement('p');
      descEl.className = 'product-description';
      descEl.textContent = product.description;
      info.appendChild(descEl);
    }

    card.appendChild(info);
    return card;
  }

  function renderProducts() {
    const container = document.getElementById('productsList');
    container.innerHTML = '';
    if (products.length === 0) {
      const emptyMsg = document.createElement('p');
      emptyMsg.textContent = 'No products added yet.';
      emptyMsg.style.color = '#777';
      emptyMsg.style.textAlign = 'center';
      container.appendChild(emptyMsg);
      return;
    }
    products.forEach((product, index) => {
      const card = createProductCard(product, index);
      container.appendChild(card);
    });
  }

  function removeProduct(index) {
    if (index >= 0 && index < products.length) {
      if (confirm('Are you sure you want to remove this product?')) {
        products.splice(index, 1);
        saveProductsToStorage();
        renderProducts();
      }
    }
  }

  function clearAllProducts() {
    if (products.length === 0) {
      alert('No products to clear.');
      return;
    }
    if (confirm('Are you sure you want to clear all products?')) {
      products = [];
      saveProductsToStorage();
      renderProducts();
    }
  }

  document.getElementById('productForm').addEventListener('submit', function (e) {
    e.preventDefault();
    const name = e.target.productName.value.trim();
    const price = e.target.productPrice.value.trim();
    const description = e.target.productDescription.value.trim();
    const imageUrl = e.target.productImageUrl.value.trim();

    if (name === '' || price === '' || isNaN(price) || parseFloat(price) < 0) {
      alert('Please enter a valid product name and price.');
      return;
    }

    const product = {
      name,
      price: parseFloat(price),
      description,
      imageUrl,
    };

    products.push(product);
    saveProductsToStorage();
    renderProducts();

    alert('Product added successfully!'); // Confirmation message

    e.target.reset();
  });

  document.getElementById('clearAllBtn').addEventListener('click', clearAllProducts);

  window.addEventListener('load', () => {
    loadProductsFromStorage();
    renderProducts();
    });
</script>
</body>
</html>